specVersion: 0.0.2
description: OHM Subgraph API
# repository: ""
schema:
  file: ./schema.graphql
dataSources:
  # OHM V1 Contract
  - kind: ethereum/contract
    name: OHM_V1
    network: mainnet
    source:
      address: "0x383518188C0C6d7730D91b2c03a03C837814a899"
      abi: OHM_V1
      startBlock: 12085665
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Transaction
        - Account
        - Token
        - Contract
      abis:
        - name: OHM_V1
          file: ./abis/OHM_V1.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer      
      file: ./src/OHM_V1.ts
  # OHM V2 Contract
  - kind: ethereum/contract
    name: OHM_V2
    network: mainnet
    source:
      address: "0x64aa3364F17a4D01c6f1751Fd97C2BD3D7e7f1D5"
      abi: OHM_V2
      startBlock: 13782589
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Transaction
        - Account
        - Token
        - Contract
      abis:
        - name: OHM_V2
          file: ./abis/OHM_V2.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: ./src/OHM_V2.ts
  # SOHM V1 Contract
  - kind: ethereum/contract
    name: SOHM_V1
    network: mainnet
    source:
      address: '0x31932e6e45012476ba3a3a4953cba62aee77fbbe'
      abi: SOHM_V1
      startBlock: 12084973
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Transaction
        - Account
        - Token
        - Contract
      abis:
        - name: SOHM_V1
          file: ./abis/SOHM_V1.json
        - name: fsOHM_18
          file: ./abis/fsOHM_18.json     
      callHandlers:
        - function: transfer(address,uint256)
          handler: handleTransfer
      file: ./src/SOHM_V1.ts
  # SOHM V2 Contract
  - kind: ethereum/contract
    name: SOHM_V2
    network: mainnet
    source:
      address: '0x04f2694c8fcee23e8fd0dfea1d4f5bb8c352111f'
      abi: SOHM_V2
      startBlock: 12633820
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Transaction
        - Account
        - Token
        - Contract
      abis:
        - name: SOHM_V2
          file: ./abis/SOHM_V2.json
      callHandlers:
        - function: transfer(address,uint256)
          handler: handleTransfer
      file: ./src/SOHM_V2.ts
  # SOHM V1 Staking Contract
  - kind: ethereum/contract
    name: SOHM_V1_Staking
    network: mainnet
    source:
      address: "0x0822f3c03dcc24d200aff33493dc08d0e1f274a2"
      abi: SOHM_V1_Staking
      startBlock: 12085272
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Transaction
        - Account
        - Token
        - Contract
      abis:
        - name: SOHM_V1_Staking
          file: ./abis/SOHM_V1_Staking.json
      callHandlers:
        - function: stakeOHM(uint256)
          handler: handleStake
        - function: unstakeOHM(uint256)
          handler: handleUnstake
      file: ./src/SOHM_V1_Staking.ts
  # SOHM V2 Staking Contract
  - kind: ethereum/contract
    name: SOHM_V2_Staking
    network: mainnet
    source:
      address: "0xfd31c7d00ca47653c6ce64af53c1571f9c36566a"
      abi: SOHM_V2_Staking
      startBlock: 12622679
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Transaction
        - Account
        - Token
        - Contract
      abis:
        - name: SOHM_V2_Staking
          file: ./abis/SOHM_V2_Staking.json
      callHandlers:
        - function: stake(uint256,address)
          handler: handleStake
        - function: unstake(uint256,bool)
          handler: handleUnstake
      file: ./src/SOHM_V2_Staking.ts
  # SOHM Staking Contract Helper
  - kind: ethereum/contract
    name: SOHM_Staking_Helper
    network: mainnet
    source:
      address: "0xC8C436271f9A6F10a5B80c8b8eD7D0E8f37a612d"
      abi: SOHM_Staking_Helper
      startBlock: 12633835
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Transaction
        - Account
        - Token
        - Contract
      abis:
        - name: SOHM_Staking_Helper
          file: ./abis/SOHM_Staking_Helper.json
      callHandlers:
        - function: stake(uint256)
          handler: handleStake
      file: ./src/SOHM_Staking_Helper.ts
  # GOHM V1 Contract
  - kind: ethereum/contract
    name: GOHM_V1
    network: mainnet
    source:
      address: "0x0ab87046fBb341D058F17CBC4c1133F25a20a52f"
      abi: GOHM_V1
      startBlock: 13848547 
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Transaction
        - Account
        - Token
        - Contract
      abis:
        - name: GOHM_V1
          file: ./abis/GOHM_V1.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer 
      file: ./src/GOHM_V1.ts
